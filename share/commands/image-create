#!/bin/bash

long_usage_message="usage: $(basename $0) <type>
Create an image. 

Arguments
  <type> - The image type you want to create (ptp-mysql, etc.) or 'all'
    to create all images" 

long_check_args "$2" "$#" 1

itypes="$2"

if [ "$itypes" = "all" ]; then
  itypes="my-jessie ptp-mysql ptp-php ptp-powerbase"
fi

for itype in $itypes; do
  # First delete image if FORCE is used.
  if [ "$LONG_FORCE" = 1 ]; then
    long_image_delete "$itype"
  fi

  # Create a mysql image.
  if [ "$itype" = "ptp-mysql" ]; then
    long_image_create ptp-mysql ${LONG_ETC}/dockerfiles/ptp/mysql
  elif [ "$itype" = "ptp-php" ]; then
    long_image_create  ptp-php ${LONG_ETC}/dockerfiles/ptp/php
  elif [ "$itype" = "ptp-powerbase" ]; then
    long_image_create  ptp-powerbase ${LONG_ETC}/dockerfiles/ptp/powerbase
  elif [ "$itype" = "my-jessie" ]; then
    long_image_create my-jessie 
  else
    long_die "I don't know how to make an image of that type (%s)." 1 "$itype"
  fi
done

