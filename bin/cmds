## General Commands:

# if you make a misakte, delete the container:
docker ps -a
docker rm CONTAINERID

# delete the image
docker rmi ptp-mysql

# exec
docker exec -i -t NAME bash


##
## MySQL Container

# First build:
docker build -t ptp-mysql /srv/longshore/etc/longshore/dockerfiles/ptp/mysql

# then create or run
docker run --name db01 -e MYSQL_ROOT_PASSWORD=mysecretpassword -v /srv/longshore/databases/db01:/var/lib/mysql -p 127.0.0.1:5001:3306 -d ptp-mysql:latest mysqld
# docker run --name db01 -v /tmp/joe:/var/lib/mysql -v /tmp/job/bob:/var/lib/mysql/bob -p 127.0.0.1:5000:3306 -t -i ptpmysql:latest bash 

# test
mysql -u root -pmysecretpassword -h 127.0.0.1 -P 5000

##
## Nginx Container

# First build:
docker build -t ptp-nginx /srv/longshore/etc/dockerfiles/ptp/nginx

# then create or run
docker run --name nginx -p 127.0.0.1:80:80 -p 127.0.0.1:443:443 -v /srv/longshore/nginx/x509:/etc/nginx/x509 -v /srv/longshore/nginx/sites-enabled:/etc/nginx/sites-enabled -v /srv/longshore/platforms:/var/www -v /srv/longshore/sites:/srv/sites --link test:test -d ptp-nginx:latest nginx 
# docker run --name db01 -v /tmp/joe:/var/lib/mysql -v /tmp/job/bob:/var/lib/mysql/bob -p 127.0.0.1:5000:3306 -t -i ptpmysql:latest bash 

# test
links http://localhost/robots.txt

##
## PHP container
# First build:
docker build -t ptp-php /srv/longshore/etc/dockerfiles/ptp/php

## Then create or run
docker run --name test -e URL=test.animal -v /srv/longshore/platforms:/var/www -v /srv/longshore/sites/test/drupal:/var/www/ourpowerbase-d7-c4.5/sites/default  -d ptp-php:latest php5-fpm 

